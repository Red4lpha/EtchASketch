<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <h1> 
    ETCH - A - SKETCH
  </h1>
  <button id="btnClear">Clear Grid</button>
  <div id="container" style="display: grid;
                              ">
                              </div>
  <script>
    const container = document.querySelector('#container');
    const btnClear = document.querySelector('#btnClear');
    let divs = [];
    let gridSize = 16;
    const height = 350;
    const width = 350;
    function addDivGrid(newSize){
      container.setAttribute ('style', 
          'display: grid;' +
          'width: ' + width +'px;' +
          'height: ' + height + 'px;' +
          'grid-template-columns: repeat(' + newSize + ', ' + width/newSize + 'px);' + 
          'grid-template-rows: repeat(' + newSize + ', auto);'); 
      
      for(i = 0; i < newSize*newSize; i++){ setGridDivInfo(i) }
      let grids = document.querySelectorAll('.grid');
      grids.forEach((grid) => {
        grid.addEventListener('mouseover', hover);
    });
    }
    function setGridDivInfo(i){
      divs[i] = document.createElement('div');
      divs[i].classList.add('grid');
      divs[i].setAttribute ('style', 
        'background: blue;' +
        'border: 1px solid black;');
      //divs[i].textContent = i;
      container.appendChild(divs[i]);
     // console.log(divs[i]);
    }

    function removeAllChildren(){
      while (container.firstChild) {
        //console.log(container.firstChild);
        container.removeChild(container.firstChild);  
        }
    }

    addDivGrid(gridSize);
    //btnClear.onclick = () => addDivGrid(20);
    btnClear.addEventListener('click', () => {
        //console.log("btnClear clicked");
        removeAllChildren();
        divs = [];
        addDivGrid(10);
        
      });
  
    function hover(e){
        //console.log(e.target);
        e.target.removeAttribute('background: blue;');
        e.target.style.background = 'red';
    }  

  </script>

</body>
</html>